id: 'declarative-promotion'
type: core
name: 'promotion-v3'
title: 'Promotions'
description: ''
color: '#FFD700'
icon: 'regular-sparkles'
entity: 'promotion'

routes:
    list:
        name: list
        columns:
            - name
            - active
            - validFrom
            - validUntil
    detail:
        name: detail
        redirect:
            name: 'declarative.promotion.detail.base'
        children:
            base:
                name: base
                meta:
                    parentPath: 'declarative.promotion.list'
                cards:
                    - name: general
                      title: 'General settings'
                      properties: ['name', 'priority', 'validFrom', 'validUntil', 'active']
                    - name: codes
                      component: 'sw-promotion-code-assignment'
            conditions:
                name: conditions
                meta:
                    parentPath: 'declarative.promotion.list'
                component: 'sw-promotion-v2-conditions'
                propsMapping:
                    entity: 'promotion'
            discounts:
                name: discounts
                meta:
                    parentPath: 'declarative.promotion.list'
                component: 'sw-promotion-detail-discounts'
        associations: ['discounts.promotionDiscountPrices', 'discounts.discountRules', 'salesChannels']

    create:
        name: create
        redirect:
            name: 'declarative.promotion.create.base'
        children:
            base:
                name: base
                meta:
                    parentPath: 'declarative.promotion.list'
                cards:
                    - name: general
                      title: 'General settings'
                      properties: ['name', 'priority', 'validFrom', 'validUntil', 'active']

navigation:
    - id: 'declarative-promotion'
      path: 'declarative.promotion.list'
      label: 'Promotions (D)'
      color: '#FFD700'
      icon: 'regular-sparkles'
      position: 200
      parent: 'sw-marketing'
      privilege: 'promotion.viewer'

